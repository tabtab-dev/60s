import{o as ge,i as be,a as M}from"./lifecycle.Bl0-0ysm.js";import{M as _e,u as me,O as he,P as ke,Q as ye,R as g,S as k,T,U as c,V as we,d as e,W as s,X as f,p as $,Y as d,Z as r,_ as q,$ as je,a0 as J,a1 as K,a2 as He,a3 as ee}from"./render.3hSXMDmx.js";import{e as Me,i as Te}from"./each.Cb7YaT0c.js";import{s as $e}from"./class.0LOf1YHh.js";import{g as qe}from"./api.BgmQpvyL.js";/* empty css                          */function ae(i,v,n=!1){if(i.multiple){if(v==null)return;if(!me(v))return he();for(var o of i.options)o.selected=v.includes(te(o));return}for(o of i.options){var _=te(o);if(ke(_,v)){o.selected=!0;return}}(!n||v!==void 0)&&(i.selectedIndex=-1)}function Ce(i){var v=new MutationObserver(()=>{ae(i,i.__value)});v.observe(i,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),_e(()=>{v.disconnect()})}function te(i){return"__value"in i?i.__value:i.value}var Be=g('<span class="text-sm text-gray-500 dark:text-gray-400"> </span>'),Oe=g("<option> </option>"),ze=g('<div class="flex items-center justify-center py-8"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div> <span class="ml-2 text-gray-600 dark:text-gray-400">加载中...</span></div>'),Ae=g('<div class="text-center py-8"><div class="text-red-500 mb-2">⚠️</div> <p class="text-red-600 dark:text-red-400"> </p> <button class="mt-2 px-4 py-2 bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/40 transition-colors">重试</button></div>'),De=g('<span class="inline-flex items-center px-2 py-1 rounded-full text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400"> </span>'),Ie=g('<div class="space-y-4"><div class="bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg p-6"><div class="flex items-start space-x-3"><div class="text-3xl opacity-50">"</div> <div class="flex-1"><blockquote class="text-lg leading-relaxed text-gray-800 dark:text-white mb-4 font-medium svelte-15kq3xj"> </blockquote> <div class="flex items-center justify-between"><div class="text-right"><div class="text-gray-600 dark:text-gray-400">💭 每日一言</div></div> <div class="flex items-center space-x-2"><!></div></div></div> <div class="text-3xl opacity-50 self-end">"</div></div></div> <div class="flex space-x-2"><button class="flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg> <span>换一句</span></button> <button class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center justify-center space-x-2" title="复制一言"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg> <span>复制</span></button></div> <div class="text-center"><p class="text-xs text-gray-500 dark:text-gray-400">💡 点击复制按钮可以分享这句话给朋友</p></div></div>'),Le=g('<div class="text-center py-8"><div class="text-4xl mb-2">💭</div> <p class="text-gray-500 dark:text-gray-400">暂无一言数据</p></div>'),Se=g('<div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 transition-all duration-300 hover:shadow-xl svelte-15kq3xj"><div class="flex items-center justify-between mb-4"><div class="flex items-center space-x-2"><span class="text-2xl">💭</span> <h2 class="text-xl font-bold text-gray-800 dark:text-white">每日一言</h2></div> <div class="flex items-center space-x-2"><!> <button class="p-2 rounded-lg bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors disabled:opacity-50" title="刷新一言"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button></div></div> <div class="mb-4"><select class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent svelte-15kq3xj"></select></div> <!></div>');function Qe(i,v){ye(v,!1);let n=$(null),o=$(!1),_=$(""),B=$(""),u=$("");const E={"":"随机",a:"动画",b:"漫画",c:"游戏",d:"文学",e:"原创",f:"网络",g:"其他",h:"影视",i:"诗词",j:"网易云",k:"哲学",l:"抖机灵"};async function y(a=e(u)){if(!e(o)){f(o,!0),f(_,"");try{const t=await qe(a||void 0);if(t&&t.content)f(n,t),f(u,a),f(B,new Date().toLocaleTimeString("zh-CN",{hour12:!1,hour:"2-digit",minute:"2-digit"}));else throw new Error("获取一言数据失败")}catch(t){console.error("Hitokoto loading error:",t),f(_,t.message||"获取一言失败，请稍后重试"),f(n,null)}finally{f(o,!1)}}}function re(a){const t=a.target;y(t.value)}async function se(){if(!e(n))return;const a=`${e(n).content} —— ${e(n).author||"佚名"}${e(n).source?`《${e(n).source}》`:""}`;try{await navigator.clipboard.writeText(a)}catch(t){console.error("复制失败:",t)}}function F(a){return{a:"🎬",b:"📚",c:"🎮",d:"📖",e:"✨",f:"🌐",g:"🔮",h:"🎭",i:"🌸",j:"🎵",k:"🤔",l:"😄"}[a]||"💭"}ge(()=>{y()}),be();var O=Se(),z=s(O),N=d(s(z),2),P=s(N);{var ie=a=>{var t=Be(),m=s(t);r(t),k(()=>q(m,`更新于 ${e(B)??""}`)),c(a,t)};M(P,a=>{e(B)&&a(ie)})}var C=d(P,2),oe=s(C);r(C),r(N),r(z);var A=d(z,2),b=s(A);Me(b,5,()=>Object.entries(E),Te,(a,t)=>{var m=je(()=>He(e(t),2));let w=()=>e(m)[0],D=()=>e(m)[1];var l=Oe(),p=s(l);r(l);var x={};k(j=>{q(p,`${j??""} ${D()??""}`),x!==(x=w())&&(l.value=(l.__value=w())??"")},[()=>F(w())]),c(a,l)}),r(b);var Q;Ce(b),r(A);var le=d(A,2);{var ne=a=>{var t=ze();c(a,t)},de=a=>{var t=J(),m=K(t);{var w=l=>{var p=Ae(),x=d(s(p),2),j=s(x,!0);r(x);var I=d(x,2);r(p),k(()=>q(j,e(_))),T("click",I,()=>y()),c(l,p)},D=l=>{var p=J(),x=K(p);{var j=h=>{var H=Ie(),L=s(H),R=s(L),W=d(s(R),2),S=s(W),ve=s(S,!0);r(S);var X=d(S,2),Y=d(s(X),2),ce=s(Y);{var ue=U=>{var V=De(),xe=s(V);r(V),k(fe=>q(xe,`${fe??""} ${E[e(u)]??""}`),[()=>F(e(u))]),c(U,V)};M(ce,U=>{e(u)&&U(ue)})}r(Y),r(X),r(W),ee(2),r(R),r(L);var Z=d(L,2),G=s(Z),pe=d(G,2);r(Z),ee(2),r(H),k(()=>q(ve,e(n).content)),T("click",G,()=>y()),T("click",pe,se),c(h,H)},I=h=>{var H=Le();c(h,H)};M(x,h=>{e(n)?h(j):h(I,!1)},!0)}c(l,p)};M(m,l=>{e(_)?l(w):l(D,!1)},!0)}c(a,t)};M(le,a=>{e(o)?a(ne):a(de,!1)})}r(O),k(()=>{C.disabled=e(o),$e(oe,0,`w-4 h-4 ${e(o)?"animate-spin":""}`),Q!==(Q=e(u))&&(b.value=(b.__value=e(u))??"",ae(b,e(u)))}),T("click",C,()=>y()),T("change",b,re),c(i,O),we()}export{Qe as default};
