import{Q as oa,R as l,W as i,Y as v,d as a,p as j,Z as s,U as n,V as sa,X as b,S as x,_ as y,a0 as O,a1 as E,T as ia,a3 as na,a8 as Q}from"./render.3hSXMDmx.js";import la from"./Navbar.D0X4bbVL.js";import{o as da,i as va,a as u}from"./lifecycle.Bl0-0ysm.js";import{e as ca,i as ua}from"./each.Cb7YaT0c.js";import{s as P}from"./attributes.D0QCp8P6.js";import{A as pa}from"./api.BgmQpvyL.js";/* empty css                                               *//* empty css                          */var fa=l('<p class="text-blue-100 text-sm mt-1"> </p>'),ga=l('<div class="flex items-center justify-center py-8"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"></div> <span class="ml-2 text-gray-600 dark:text-gray-300">加载中...</span></div>'),ma=l('<div class="text-center py-8"><p class="text-red-500 mb-4"> </p> <button class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors">重新加载</button></div>'),ba=l('<div class="flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors"><span class="flex-shrink-0 w-6 h-6 bg-blue-500 text-white text-xs font-bold rounded-full flex items-center justify-center"></span> <p class="text-gray-800 dark:text-gray-200 text-sm leading-relaxed"> </p></div>'),xa=l('<div class="space-y-3 mb-4"></div>'),_a=l('<div class="bg-gradient-to-r from-orange-100 to-pink-100 dark:from-orange-900 dark:to-pink-900 p-4 rounded-lg mb-4"><h3 class="text-orange-800 dark:text-orange-200 font-semibold mb-2 flex items-center gap-2"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg> 微语</h3> <p class="text-orange-700 dark:text-orange-300 text-sm italic"> </p></div>'),ha=l('<div class="bg-blue-50 dark:bg-blue-900 p-4 rounded-lg mb-4"><h3 class="text-blue-800 dark:text-blue-200 font-semibold mb-2 flex items-center gap-2"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.617.793L4.617 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.617l3.766-3.793a1 1 0 011.617.793zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 11-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.983 5.983 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.984 3.984 0 00-1.172-2.828 1 1 0 010-1.415z" clip-rule="evenodd"></path></svg> 语音播报</h3> <audio controls class="w-full"><source type="audio/mpeg"/> 您的浏览器不支持音频播放。</audio></div>'),wa=l('<div class="flex justify-end text-xs text-gray-500 dark:text-gray-400 pt-4 border-t border-gray-200 dark:border-gray-600"><a target="_blank" rel="noopener noreferrer" class="text-blue-500 hover:text-blue-600 transition-colors">查看原文 →</a></div>'),ya=l("<!> <!> <!> <!>",1),ka=l('<div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden"><div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4"><h2 class="text-xl font-bold flex items-center gap-2"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z" clip-rule="evenodd"></path></svg> 每天60秒读懂世界</h2> <!></div> <div class="p-4"><!></div></div>');function Aa(p,R){oa(R,!1);let t=j(null),k=j(!0),f=j("");async function I(){try{b(k,!0),b(f,""),b(t,await pa.get60sNews())}catch(o){console.error("Failed to load news:",o),b(f,"API服务暂时不可用，正在尝试备用服务器..."),setTimeout(()=>{a(f)&&b(f,"数据加载失败，请检查网络连接或稍后重试")},3e3)}finally{b(k,!1)}}function U(o){return o.replace(/\//g,"-")}da(()=>{I()}),va();var A=ka(),C=i(A),W=v(i(C),2);{var X=o=>{var c=fa(),z=i(c);s(c),x(M=>y(z,`${M??""} 更新`),[()=>U(a(t).updated)]),n(o,c)};u(W,o=>{a(t)&&o(X)})}s(C);var L=v(C,2),Y=i(L);{var Z=o=>{var c=ga();n(o,c)},q=o=>{var c=O(),z=E(c);{var M=g=>{var m=ma(),_=i(m),N=i(_,!0);s(_);var h=v(_,2);s(m),x(()=>y(N,a(f))),ia("click",h,I),n(g,m)},G=g=>{var m=O(),_=E(m);{var N=h=>{var T=ya(),D=E(T);{var J=e=>{var r=xa();ca(r,5,()=>a(t).news,ua,(d,w,ra)=>{var B=ba(),V=i(B);V.textContent=ra+1;var F=v(V,2),ta=i(F,!0);s(F),s(B),x(()=>y(ta,a(w))),n(d,B)}),s(r),n(e,r)};u(D,e=>{a(t).news&&a(t).news.length>0&&e(J)})}var H=v(D,2);{var K=e=>{var r=_a(),d=v(i(r),2),w=i(d,!0);s(d),s(r),x(()=>y(w,a(t).tip)),n(e,r)};u(H,e=>{a(t).tip&&e(K)})}var S=v(H,2);{var $=e=>{var r=ha(),d=v(i(r),2),w=i(d);na(),s(d),s(r),x(()=>P(w,"src",a(t).audio.news)),n(e,r)};u(S,e=>{a(t).audio&&a(t).audio.news&&e($)})}var aa=v(S,2);{var ea=e=>{var r=wa(),d=i(r);s(r),x(()=>P(d,"href",a(t).link)),n(e,r)};u(aa,e=>{a(t).link&&e(ea)})}n(h,T)};u(_,h=>{a(t)&&h(N)},!0)}n(g,m)};u(z,g=>{a(f)?g(M):g(G,!1)},!0)}n(o,c)};u(Y,o=>{a(k)?o(Z):o(q,!1)})}s(L),s(A),n(p,A),sa()}function Ca(){const p=document.getElementById("navbar-container");p&&Q(la,{target:p})}function za(){const p=document.getElementById("news-card-container");p&&Q(Aa,{target:p})}document.addEventListener("DOMContentLoaded",()=>{Ca(),za()});
